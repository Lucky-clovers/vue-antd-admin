{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\src\\components\\tool\\TagSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\src\\components\\tool\\TagSelect.vue","mtime":1600420862362},{"path":"C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600423573509},{"path":"C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1600416510814},{"path":"C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600423573509},{"path":"C:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1600423579954}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGFnU2VsZWN0T3B0aW9uIGZyb20gJy4vVGFnU2VsZWN0T3B0aW9uJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVGFnU2VsZWN0JywNCiAgT3B0aW9uOiBUYWdTZWxlY3RPcHRpb24sDQogIGNvbXBvbmVudHM6IHtUYWdTZWxlY3RPcHRpb259LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2hvd1RyaWdnZXI6IGZhbHNlLA0KICAgICAgY29sbGFwc2VkOiB0cnVlLA0KICAgICAgc2NyZWVuV2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsDQogICAgICBjaGVja0FsbDogZmFsc2UNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgc2NyZWVuV2lkdGg6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuc2hvd1RyaWdnZXIgPSB0aGlzLm5lZWRUcmlnZ2VyKCkNCiAgICB9LA0KICAgIGNvbGxhcHNlZDogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgdGhpcy4kZWwuc3R5bGUubWF4SGVpZ2h0ID0gdmFsID8gJzM5cHgnIDogJzc4cHgnDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBsZXQgX3RoaXMgPSB0aGlzDQogICAgLy8g5q2k5aSE5bu26L+f5omn6KGM77yM5piv5Li66Kej5YazbW91dGVk5pyq5a6M5YWo5a6M5oiQ5oOF5Ya15LiL5byV5Y+R55qEdHJpZ2dlcuaYvuekumJ1Zw0KICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgX3RoaXMuc2hvd1RyaWdnZXIgPSBfdGhpcy5uZWVkVHJpZ2dlcigpDQogICAgICBfdGhpcy4kcmVmcy50cmlnZ2VyLnN0eWxlLmRpc3BsYXkgPSBfdGhpcy5zaG93VHJpZ2dlciA/ICdpbmxpbmUnIDogJ25vbmUnDQogICAgfSwgMSkNCiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7DQogICAgICByZXR1cm4gKCgpID0+IHsNCiAgICAgICAgd2luZG93LnNjcmVlbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aA0KICAgICAgICBfdGhpcy5zY3JlZW5XaWR0aCA9IHdpbmRvdy5zY3JlZW5XaWR0aA0KICAgICAgfSkoKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG5lZWRUcmlnZ2VyICgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRlbC5jbGllbnRIZWlnaHQgPCB0aGlzLiRlbC5zY3JvbGxIZWlnaHQgfHwgdGhpcy4kZWwuc2Nyb2xsSGVpZ2h0ID4gMzkNCiAgICB9LA0KICAgIHRvZ2dsZSAoKSB7DQogICAgICB0aGlzLmNvbGxhcHNlZCA9ICF0aGlzLmNvbGxhcHNlZA0KICAgIH0sDQogICAgZ2V0QWxsVGFncyAoKSB7DQogICAgICBjb25zdCB0YWdMaXN0ID0gdGhpcy4kY2hpbGRyZW4uZmlsdGVyKChpdGVtKSA9PiB7DQogICAgICAgIHJldHVybiBpdGVtLmlzVGFnU2VsZWN0T3B0aW9uDQogICAgICB9KQ0KICAgICAgcmV0dXJuIHRhZ0xpc3QNCiAgICB9LA0KICAgIHRvZ2dsZUNoZWNrICgpIHsNCiAgICAgIHRoaXMuY2hlY2tBbGwgPSAhdGhpcy5jaGVja0FsbA0KICAgICAgY29uc3QgdGFnTGlzdCA9IHRoaXMuZ2V0QWxsVGFncygpDQogICAgICB0YWdMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgaXRlbS5jaGVja2VkID0gdGhpcy5jaGVja0FsbA0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["TagSelect.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TagSelect.vue","sourceRoot":"src/components/tool","sourcesContent":["<template>\r\n  <div class=\"tag-select\">\r\n    <tag-select-option @click=\"toggleCheck\">全部</tag-select-option>\r\n    <slot></slot>\r\n    <a @click=\"toggle\" v-show=\"showTrigger\" ref=\"trigger\" class=\"trigger\">展开<a-icon style=\"margin-left: 5px\" :type=\"collapsed ? 'down' : 'up'\"/></a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TagSelectOption from './TagSelectOption'\r\nexport default {\r\n  name: 'TagSelect',\r\n  Option: TagSelectOption,\r\n  components: {TagSelectOption},\r\n  data () {\r\n    return {\r\n      showTrigger: false,\r\n      collapsed: true,\r\n      screenWidth: document.body.clientWidth,\r\n      checkAll: false\r\n    }\r\n  },\r\n  watch: {\r\n    screenWidth: function () {\r\n      this.showTrigger = this.needTrigger()\r\n    },\r\n    collapsed: function (val) {\r\n      this.$el.style.maxHeight = val ? '39px' : '78px'\r\n    }\r\n  },\r\n  mounted () {\r\n    let _this = this\r\n    // 此处延迟执行，是为解决mouted未完全完成情况下引发的trigger显示bug\r\n    setTimeout(() => {\r\n      _this.showTrigger = _this.needTrigger()\r\n      _this.$refs.trigger.style.display = _this.showTrigger ? 'inline' : 'none'\r\n    }, 1)\r\n    window.onresize = () => {\r\n      return (() => {\r\n        window.screenWidth = document.body.clientWidth\r\n        _this.screenWidth = window.screenWidth\r\n      })()\r\n    }\r\n  },\r\n  methods: {\r\n    needTrigger () {\r\n      return this.$el.clientHeight < this.$el.scrollHeight || this.$el.scrollHeight > 39\r\n    },\r\n    toggle () {\r\n      this.collapsed = !this.collapsed\r\n    },\r\n    getAllTags () {\r\n      const tagList = this.$children.filter((item) => {\r\n        return item.isTagSelectOption\r\n      })\r\n      return tagList\r\n    },\r\n    toggleCheck () {\r\n      this.checkAll = !this.checkAll\r\n      const tagList = this.getAllTags()\r\n      tagList.forEach((item) => {\r\n        item.checked = this.checkAll\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .tag-select{\r\n    user-select: none;\r\n    position: relative;\r\n    overflow: hidden;\r\n    max-height: 39px;\r\n    padding-right: 50px;\r\n    display: inline-block;\r\n  }\r\n  .trigger{\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n</style>\r\n"]}]}