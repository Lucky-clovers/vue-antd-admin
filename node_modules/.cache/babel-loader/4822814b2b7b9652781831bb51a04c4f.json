{"remainingRequest":"c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\src\\services\\user.js","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\src\\services\\user.js","mtime":1600420862423},{"path":"c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600423573509},{"path":"c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1600416510814},{"path":"c:\\Users\\Administrator\\Desktop\\vue-antd-admin\\node_modules\\eslint-loader\\index.js","mtime":1600416522707}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiYzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3Z1ZS1hbnRkLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgTE9HSU4sIFJPVVRFUyB9IGZyb20gJ0Avc2VydmljZXMvYXBpJzsKaW1wb3J0IHsgcmVxdWVzdCwgTUVUSE9ELCByZW1vdmVBdXRob3JpemF0aW9uIH0gZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKLyoqDQogKiDnmbvlvZXmnI3liqENCiAqIEBwYXJhbSBuYW1lIOi0puaIt+WQjQ0KICogQHBhcmFtIHBhc3N3b3JkIOi0puaIt+WvhueggQ0KICogQHJldHVybnMge1Byb21pc2U8QXhpb3NSZXNwb25zZTxUPj59DQogKi8KCmV4cG9ydCBmdW5jdGlvbiBsb2dpbihfeCwgX3gyKSB7CiAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfbG9naW4oKSB7CiAgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKG5hbWUsIHBhc3N3b3JkKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcXVlc3QoTE9HSU4sIE1FVEhPRC5QT1NULCB7CiAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0Um91dGVzQ29uZmlnKCkgewogIHJldHVybiBfZ2V0Um91dGVzQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqDQogKiDpgIDlh7rnmbvlvZUNCiAqLwoKZnVuY3Rpb24gX2dldFJvdXRlc0NvbmZpZygpIHsKICBfZ2V0Um91dGVzQ29uZmlnID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXF1ZXN0KFJPVVRFUywgTUVUSE9ELkdFVCkpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2dldFJvdXRlc0NvbmZpZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbG9nb3V0KCkgewogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfUk9VVEVTX0tFWSk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9QRVJNSVNTSU9OU19LRVkpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfUk9MRVNfS0VZKTsKICByZW1vdmVBdXRob3JpemF0aW9uKCk7Cn0KZXhwb3J0IGRlZmF1bHQgewogIGxvZ2luOiBsb2dpbiwKICBsb2dvdXQ6IGxvZ291dCwKICBnZXRSb3V0ZXNDb25maWc6IGdldFJvdXRlc0NvbmZpZwp9Ow=="},{"version":3,"sources":["c:/Users/Administrator/Desktop/vue-antd-admin/src/services/user.js"],"names":["LOGIN","ROUTES","request","METHOD","removeAuthorization","login","name","password","POST","getRoutesConfig","GET","logout","localStorage","removeItem","process","env","VUE_APP_ROUTES_KEY","VUE_APP_PERMISSIONS_KEY","VUE_APP_ROLES_KEY"],"mappings":";;AAAA,SAAQA,KAAR,EAAeC,MAAf,QAA4B,gBAA5B;AACA,SAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,mBAAzB,QAAmD,iBAAnD;AAEA;;;;;;;AAMA,gBAAsBC,KAAtB;AAAA;AAAA;;;mEAAO,iBAAqBC,IAArB,EAA2BC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACEL,OAAO,CAACF,KAAD,EAAQG,MAAM,CAACK,IAAf,EAAqB;AACjCF,cAAAA,IAAI,EAAEA,IAD2B;AAEjCC,cAAAA,QAAQ,EAAEA;AAFuB,aAArB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,gBAAsBE,eAAtB;AAAA;AAAA;AAIA;;;;;6EAJO;AAAA;AAAA;AAAA;AAAA;AAAA,8CACEP,OAAO,CAACD,MAAD,EAASE,MAAM,CAACO,GAAhB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,OAAO,SAASC,MAAT,GAAkB;AACvBC,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYC,kBAApC;AACAJ,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYE,uBAApC;AACAL,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYG,iBAApC;AACAd,EAAAA,mBAAmB;AACpB;AACD,eAAe;AACbC,EAAAA,KAAK,EAALA,KADa;AAEbM,EAAAA,MAAM,EAANA,MAFa;AAGbF,EAAAA,eAAe,EAAfA;AAHa,CAAf","sourcesContent":["import {LOGIN, ROUTES} from '@/services/api'\r\nimport {request, METHOD, removeAuthorization} from '@/utils/request'\r\n\r\n/**\r\n * 登录服务\r\n * @param name 账户名\r\n * @param password 账户密码\r\n * @returns {Promise<AxiosResponse<T>>}\r\n */\r\nexport async function login(name, password) {\r\n  return request(LOGIN, METHOD.POST, {\r\n    name: name,\r\n    password: password\r\n  })\r\n}\r\n\r\nexport async function getRoutesConfig() {\r\n  return request(ROUTES, METHOD.GET)\r\n}\r\n\r\n/**\r\n * 退出登录\r\n */\r\nexport function logout() {\r\n  localStorage.removeItem(process.env.VUE_APP_ROUTES_KEY)\r\n  localStorage.removeItem(process.env.VUE_APP_PERMISSIONS_KEY)\r\n  localStorage.removeItem(process.env.VUE_APP_ROLES_KEY)\r\n  removeAuthorization()\r\n}\r\nexport default {\r\n  login,\r\n  logout,\r\n  getRoutesConfig\r\n}\r\n"]}]}